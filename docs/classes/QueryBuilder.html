<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>QueryBuilder | kysely</title><meta name="description" content="Documentation for kysely"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">kysely</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">kysely</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li></ul><h1>Class QueryBuilder&lt;DB, TB, O&gt;</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>The main query builder class.</p>
</div></div></section><section class="tsd-panel tsd-type-parameters"><h3>Type parameters</h3><ul class="tsd-type-parameters"><li><h4>DB</h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>A type whose keys are table names/aliases and values are interfaces that
   define the table&#39;s columns and their types. This type defines the tables, subqueries
   etc. that are available to the query. This type contains all tables, even the ones
   that have not actually been joined to the query. the <code>TB</code> parameter defines the
   table names/aliases that have been joined to the query.</p>
</div></div></li><li><h4>TB<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">keyof </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>The names/aliases of the tables that have been joined to the query
   using <code>from</code>, <code>with</code> any join method and so on. This type is a union of <code>DB</code>
   type&#39;s keys. For example <code>&#39;person&#39; | &#39;pet&#39;</code>.</p>
</div></div></li><li><h4>O = <span class="tsd-signature-symbol">{}</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>The query output row type.</p>
</div></div></li></ul></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">QueryBuilder</span></li></ul></section><section class="tsd-panel"><h3>Implements</h3><ul class="tsd-hierarchy"><li><a href="../interfaces/OperationNodeSource.html" class="tsd-signature-type" data-tsd-kind="Interface">OperationNodeSource</a></li><li><span class="tsd-signature-type">Compilable</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#as" class="tsd-kind-icon">as</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#castTo" class="tsd-kind-icon">cast<wbr/>To</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#compile" class="tsd-kind-icon">compile</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#distinct" class="tsd-kind-icon">distinct</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#distinctOn" class="tsd-kind-icon">distinct<wbr/>On</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#execute" class="tsd-kind-icon">execute</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#executeTakeFirst" class="tsd-kind-icon">execute<wbr/>Take<wbr/>First</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forKeyShare" class="tsd-kind-icon">for<wbr/>Key<wbr/>Share</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forNoKeyUpdate" class="tsd-kind-icon">for<wbr/>No<wbr/>Key<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forShare" class="tsd-kind-icon">for<wbr/>Share</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forUpdate" class="tsd-kind-icon">for<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#fullJoin" class="tsd-kind-icon">full<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#groupBy" class="tsd-kind-icon">group<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#having" class="tsd-kind-icon">having</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingExists" class="tsd-kind-icon">having<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingNotExist" class="tsd-kind-icon">having<wbr/>Not<wbr/>Exist</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingRef" class="tsd-kind-icon">having<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#innerJoin" class="tsd-kind-icon">inner<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#leftJoin" class="tsd-kind-icon">left<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#limit" class="tsd-kind-icon">limit</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#noWait" class="tsd-kind-icon">no<wbr/>Wait</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#offset" class="tsd-kind-icon">offset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#onConflictDoNothing" class="tsd-kind-icon">on<wbr/>Conflict<wbr/>Do<wbr/>Nothing</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#onConflictUpdate" class="tsd-kind-icon">on<wbr/>Conflict<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHaving" class="tsd-kind-icon">or<wbr/>Having</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingExists" class="tsd-kind-icon">or<wbr/>Having<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingNotExists" class="tsd-kind-icon">or<wbr/>Having<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingRef" class="tsd-kind-icon">or<wbr/>Having<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhere" class="tsd-kind-icon">or<wbr/>Where</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereExists" class="tsd-kind-icon">or<wbr/>Where<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereNotExists" class="tsd-kind-icon">or<wbr/>Where<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereRef" class="tsd-kind-icon">or<wbr/>Where<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orderBy" class="tsd-kind-icon">order<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#returning" class="tsd-kind-icon">returning</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#returningAll" class="tsd-kind-icon">returning<wbr/>All</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#rightJoin" class="tsd-kind-icon">right<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#select" class="tsd-kind-icon">select</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#selectAll" class="tsd-kind-icon">select<wbr/>All</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#set" class="tsd-kind-icon">set</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#skipLocked" class="tsd-kind-icon">skip<wbr/>Locked</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#toOperationNode" class="tsd-kind-icon">to<wbr/>Operation<wbr/>Node</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#values" class="tsd-kind-icon">values</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#where" class="tsd-kind-icon">where</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereExists" class="tsd-kind-icon">where<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereNotExists" class="tsd-kind-icon">where<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereRef" class="tsd-kind-icon">where<wbr/>Ref</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a name="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">new <wbr/>Query<wbr/>Builder&lt;DB, TB, O&gt;<span class="tsd-signature-symbol">(</span>args<span class="tsd-signature-symbol">: </span><a href="../interfaces/QueryBuilderConstructorArgs.html" class="tsd-signature-type" data-tsd-kind="Interface">QueryBuilderConstructorArgs</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>DB</h4></li><li><h4>TB<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li><li><h4>O = <span class="tsd-signature-symbol">{}</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>args: <a href="../interfaces/QueryBuilderConstructorArgs.html" class="tsd-signature-type" data-tsd-kind="Interface">QueryBuilderConstructorArgs</a></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="as" class="tsd-anchor"></a><h3>as</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">as&lt;A&gt;<span class="tsd-signature-symbol">(</span>alias<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">A</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AliasedQueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedQueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">A</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gives an alias for the query. This method is only useful for sub queries.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;owner_first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>A<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>alias: <span class="tsd-signature-type" data-tsd-kind="Type parameter">A</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="AliasedQueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedQueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">A</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="castTo" class="tsd-anchor"></a><h3>cast<wbr/>To</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">cast<wbr/>To&lt;T&gt;<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Change the output type of the query.</p>
</div><div><p>You should only use this method as the last resort if the types
don&#39;t support your use case.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="compile" class="tsd-anchor"></a><h3>compile</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">compile<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/CompiledQuery.html" class="tsd-signature-type" data-tsd-kind="Interface">CompiledQuery</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of Compilable.compile</p></aside><h4 class="tsd-returns-title">Returns <a href="../interfaces/CompiledQuery.html" class="tsd-signature-type" data-tsd-kind="Interface">CompiledQuery</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="distinct" class="tsd-anchor"></a><h3>distinct</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">distinct<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="distinctOn" class="tsd-anchor"></a><h3>distinct<wbr/>On</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">distinct<wbr/>On&lt;S&gt;<span class="tsd-signature-symbol">(</span>selections<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">distinct<wbr/>On&lt;S&gt;<span class="tsd-signature-symbol">(</span>selection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds <code>distinct on</code> selections to the select clause.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">distinctOn</span><span class="hl-1">(</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">innerJoin</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Doggo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select distinct</span><span class="hl-1"> </span><span class="hl-4">on</span><span class="hl-1"> (</span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1">) </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.*</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">inner join</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1"> </span><span class="hl-4">on</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selections: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selection: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="execute" class="tsd-anchor"></a><h3>execute</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">execute<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ManyResultRowType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ManyResultRowType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="executeTakeFirst" class="tsd-anchor"></a><h3>execute<wbr/>Take<wbr/>First</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">execute<wbr/>Take<wbr/>First<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">SingleResultRowType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">SingleResultRowType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="forKeyShare" class="tsd-anchor"></a><h3>for<wbr/>Key<wbr/>Share</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">for<wbr/>Key<wbr/>Share<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>for key share</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="forNoKeyUpdate" class="tsd-anchor"></a><h3>for<wbr/>No<wbr/>Key<wbr/>Update</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">for<wbr/>No<wbr/>Key<wbr/>Update<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>for no key update</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="forShare" class="tsd-anchor"></a><h3>for<wbr/>Share</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">for<wbr/>Share<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>for share</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="forUpdate" class="tsd-anchor"></a><h3>for<wbr/>Update</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">for<wbr/>Update<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>for update</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="fullJoin" class="tsd-anchor"></a><h3>full<wbr/>Join</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">full<wbr/>Join&lt;TE, K1, K2&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, k1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span>, k2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">full<wbr/>Join&lt;TE, FN&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#innerJoin">innerJoin</a> but adds a full join
instead of an inner join.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>K1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li><li><h4>K2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>k1: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span></h5></li><li><h5>k2: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>FN<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">JoinCallbackArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>callback: <span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="groupBy" class="tsd-anchor"></a><h3>group<wbr/>By</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">group<wbr/>By<span class="tsd-signature-symbol">(</span>orderBy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">group<wbr/>By<span class="tsd-signature-symbol">(</span>orderBy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>group by</code> clause to the query.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;max(id)&#39;</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;max_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">groupBy</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-8">max</span><span class="hl-1">(id)</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">group by</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p><code>groupBy</code> also accepts an array:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">raw</span><span class="hl-1"> } = </span><span class="hl-0">db</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;last_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;max(id)&#39;</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;max_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">groupBy</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;last_name&#39;</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1">, </span><span class="hl-8">max</span><span class="hl-1">(id)</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">group by</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>The group by expressions can also be subqueries or
raw expressions:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">raw</span><span class="hl-1"> } = </span><span class="hl-0">db</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;last_name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;max(id)&#39;</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;max_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">groupBy</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;concat(first_name, last_name)&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">).</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">).</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
</dd><dt>example</dt><dd><p><code>dynamic.ref</code> can be used to refer to columns not known at
compile time:</p>
<pre><code class="language-ts"><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-8">someQuery</span><span class="hl-1">(</span><span class="hl-0">groupBy</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">ref</span><span class="hl-1"> } = </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-0">dynamic</span><br/><br/><span class="hl-1">  </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">    .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">groupBy</span><span class="hl-1">(</span><span class="hl-8">ref</span><span class="hl-1">(</span><span class="hl-0">groupBy</span><span class="hl-1">))</span><br/><span class="hl-1">    .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">someQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">group by</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>orderBy: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>orderBy: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="having" class="tsd-anchor"></a><h3>having</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">having<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">having<span class="tsd-signature-symbol">(</span>grouper<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#where">where</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>grouper: <span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>qb: <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="havingExists" class="tsd-anchor"></a><h3>having<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">having<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereExists">whereExists</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="havingNotExist" class="tsd-anchor"></a><h3>having<wbr/>Not<wbr/>Exist</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">having<wbr/>Not<wbr/>Exist<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereNotExists">whereNotExists</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="havingRef" class="tsd-anchor"></a><h3>having<wbr/>Ref</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">having<wbr/>Ref<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereRef">whereRef</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="innerJoin" class="tsd-anchor"></a><h3>inner<wbr/>Join</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">inner<wbr/>Join&lt;TE, K1, K2&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, k1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span>, k2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">inner<wbr/>Join&lt;TE, FN&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Joins another table to the query using an inner join.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Simple usage by providing a table name and two columns to join:</p>
<pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">innerJoin</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">inner join</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-4">on</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>You can give an alias for the joined table like this:</p>
<pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">innerJoin</span><span class="hl-1">(</span><span class="hl-3">&#39;pet as p&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;p.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;p.name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Doggo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">inner join</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-3">&quot;p&quot;</span><br/><span class="hl-4">on</span><span class="hl-1"> </span><span class="hl-3">&quot;p&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;p&quot;</span><span class="hl-1">.</span><span class="hl-4">name</span><span class="hl-3">&quot; = $1</span>
</code></pre>
</dd><dt>example</dt><dd><p>You can provide a function as the second argument to get a join
builder for creating more complex joins. The join builder has a
bunch of <code>on*</code> methods for building the <code>on</code> clause of the join.
There&#39;s basically an equivalent for every <code>where</code> method
(<code>on</code>, <code>onRef</code>, <code>onExists</code> etc.). You can do all the same things
with the <code>on</code> method that you can with the corresponding <code>where</code>
method. See the <code>where</code> method documentation for more examples.</p>
<pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">innerJoin</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    (</span><span class="hl-0">join</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">join</span><br/><span class="hl-1">      .</span><span class="hl-8">onRef</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">on</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Doggo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">inner join</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-4">on</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-4">and</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span>
</code></pre>
</dd><dt>example</dt><dd><p>You can join a subquery by providing a function as the first
argument:</p>
<pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">innerJoin</span><span class="hl-1">(</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">select</span><span class="hl-1">([</span><span class="hl-3">&#39;owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">      .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Doggo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;doggos&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;doggos.owner_id&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">inner join</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;name&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span><br/><span class="hl-1">) </span><span class="hl-4">as</span><span class="hl-1"> doggos</span><br/><span class="hl-4">on</span><span class="hl-1"> </span><span class="hl-3">&quot;doggos&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>K1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li><li><h4>K2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>k1: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span></h5></li><li><h5>k2: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>FN<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">JoinCallbackArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>callback: <span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="leftJoin" class="tsd-anchor"></a><h3>left<wbr/>Join</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">left<wbr/>Join&lt;TE, K1, K2&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, k1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span>, k2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">left<wbr/>Join&lt;TE, FN&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#innerJoin">innerJoin</a> but adds a left join
instead of an inner join.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>K1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li><li><h4>K2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>k1: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span></h5></li><li><h5>k2: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>FN<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">JoinCallbackArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>callback: <span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="limit" class="tsd-anchor"></a><h3>limit</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">limit<span class="tsd-signature-symbol">(</span>limit<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a limit clause to the query.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Select the first 10 rows of the result:</p>
<pre><code class="language-ts"><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>Select rows from index 10 to index 19 of the result:</p>
<pre><code class="language-ts"><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">offset</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>limit: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="noWait" class="tsd-anchor"></a><h3>no<wbr/>Wait</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">no<wbr/>Wait<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>nowait</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="offset" class="tsd-anchor"></a><h3>offset</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">offset<span class="tsd-signature-symbol">(</span>offset<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds an offset clause to the query.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Select rows from index 10 to index 19 of the result:</p>
<pre><code class="language-ts"><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">offset</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>offset: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="onConflictDoNothing" class="tsd-anchor"></a><h3>on<wbr/>Conflict<wbr/>Do<wbr/>Nothing</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">on<wbr/>Conflict<wbr/>Do<wbr/>Nothing<span class="tsd-signature-symbol">(</span>column<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<wbr/>Conflict<wbr/>Do<wbr/>Nothing<span class="tsd-signature-symbol">(</span>columns<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Ignores the insert if the column (or columns) given as the first
argument conflicts with the current rows in the database. The
default behavior without this method call is to throw an error.</p>
</div><div><p>For example if a table has a field <code>name</code> that has a unique constraint
and you try to insert a row with a <code>name</code> that already exists in the
database, calling <code>onConflictDoNothing(&#39;name&#39;)</code> will ignore the conflict
and do nothing. By default the query would throw.</p>
<p>This method generates different SQL on different dialects. For example
<code>insert ignore</code> is used on mysql and <code>on conflict (columns) do nothing</code>
on postgres and sqlite.</p>
<p>Also see the <a href="QueryBuilder.html#onConflictUpdate">onConflictUpdate</a>
method if you want to perform an update in case of a conflict (upsert).</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Catto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">species:</span><span class="hl-1"> </span><span class="hl-3">&#39;cat&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">onConflictDoNothing</span><span class="hl-1">(</span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;species&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">values</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">)</span><br/><span class="hl-4">on</span><span class="hl-1"> conflict (</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">) do nothing</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>column: <span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>columns: <span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="onConflictUpdate" class="tsd-anchor"></a><h3>on<wbr/>Conflict<wbr/>Update</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">on<wbr/>Conflict<wbr/>Update<span class="tsd-signature-symbol">(</span>column<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, updates<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<wbr/>Conflict<wbr/>Update<span class="tsd-signature-symbol">(</span>columns<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span>, updates<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Ignores an insert if the column (or columns) given as the first
argument conflicts with the current rows in the database and
performs an update on the conflicting row instead. This method
can be used to implement an upsert operation.</p>
</div><div><p>For example if a table has a field <code>name</code> that has a unique constraint
and you try to insert a row with a <code>name</code> that already exists in the
database, calling <code>onConfictUpdate(&#39;name&#39;, { species: &#39;hamster&#39; })</code>
will set the conflicting row&#39;s <code>species</code> field to value <code>&#39;hamster&#39;</code>.
By default the query would throw.</p>
<p>The second argument (updates) can be anything the <a href="QueryBuilder.html#set">set</a>
method accepts.</p>
<p>This method generates different SQL on different dialects. For example
<code>on duplicate key update</code> is used on mysql and <code>on conflict (columns) do update</code>
on postgres and sqlite.</p>
<p>Also see the <a href="QueryBuilder.html#onConflictDoNothing">onConflictDoNothing</a>
method.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Catto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">species:</span><span class="hl-1"> </span><span class="hl-3">&#39;cat&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">onConflictUpdate</span><span class="hl-1">(</span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">, { </span><span class="hl-0">species:</span><span class="hl-1"> </span><span class="hl-3">&#39;hamster&#39;</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;species&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">values</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">)</span><br/><span class="hl-4">on</span><span class="hl-1"> conflict (</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">) do </span><span class="hl-4">update</span><span class="hl-1"> </span><span class="hl-4">set</span><span class="hl-1"> </span><span class="hl-3">&quot;species&quot;</span><span class="hl-1"> = $</span><span class="hl-9">3</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>column: <span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>updates: <span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>columns: <span class="tsd-signature-type">AnyColumn</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5>updates: <span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orHaving" class="tsd-anchor"></a><h3>or<wbr/>Having</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Having<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">or<wbr/>Having<span class="tsd-signature-symbol">(</span>grouper<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#orWhere">orWhere</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>grouper: <span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>qb: <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orHavingExists" class="tsd-anchor"></a><h3>or<wbr/>Having<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Having<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#orWhereExists">orWhereExists</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orHavingNotExists" class="tsd-anchor"></a><h3>or<wbr/>Having<wbr/>Not<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Having<wbr/>Not<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#orWhereNotExists">orWhereNotExists</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orHavingRef" class="tsd-anchor"></a><h3>or<wbr/>Having<wbr/>Ref</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Having<wbr/>Ref<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#orWhereRef">orWhereRef</a> but adds a <code>having</code> statement
instead of a <code>where</code> statement.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orWhere" class="tsd-anchor"></a><h3>or<wbr/>Where</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Where<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">or<wbr/>Where<span class="tsd-signature-symbol">(</span>grouper<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds an <code>or where</code> clause to the query. Otherwise works just like
<a href="QueryBuilder.html#where">where</a>.</p>
</div><div><p>It&#39;s often necessary to wrap <code>or where</code> clauses in parentheses to control
precendence. You can use the one argument version of the <code>where</code> method
for that. See the examples.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-4">or</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">2</span>
</code></pre>
</dd><dt>example</dt><dd><p>Grouping with parentheses:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">    .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-4">or</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>Even the first <code>where</code> can be an <code>orWhere</code>. This is useful
if you are looping through a set of conditions:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">    .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-4">or</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>grouper: <span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>qb: <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orWhereExists" class="tsd-anchor"></a><h3>or<wbr/>Where<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Where<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereExists">whereExists</a> but creates a <code>or exists</code> clause.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orWhereNotExists" class="tsd-anchor"></a><h3>or<wbr/>Where<wbr/>Not<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Where<wbr/>Not<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereExists">whereExists</a> but creates a <code>or not exists</code> clause.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orWhereRef" class="tsd-anchor"></a><h3>or<wbr/>Where<wbr/>Ref</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">or<wbr/>Where<wbr/>Ref<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds an <code>or where</code> clause to the query. Otherwise works just like
<a href="QueryBuilder.html#whereRef">whereRef</a>.</p>
</div><div><p>Also see <a href="QueryBuilder.html#orWhere">orWhere</a> and <a href="QueryBuilder.html#where">where</a>.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="orderBy" class="tsd-anchor"></a><h3>order<wbr/>By</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">order<wbr/>By<span class="tsd-signature-symbol">(</span>orderBy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">OrderByExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span>, direction<span class="tsd-signature-symbol">?: </span><a href="../modules.html#OrderByDirection" class="tsd-signature-type" data-tsd-kind="Type alias">OrderByDirection</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds an <code>order by</code> clause to the query.</p>
</div><div><p><code>orderBy</code> calls are additive. To order by multiple columns, call <code>orderBy</code>
multiple times.</p>
<p>The first argument is the expression to order by and the second is the
order (<code>asc</code> or <code>desc</code>).</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;person.first_name as fn&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">orderBy</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">orderBy</span><span class="hl-1">(</span><span class="hl-3">&#39;fn&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;desc&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-3">&quot;fn&quot;</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">order by</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> </span><span class="hl-4">asc</span><span class="hl-1">, </span><span class="hl-3">&quot;fn&quot;</span><span class="hl-1"> </span><span class="hl-4">desc</span>
</code></pre>
</dd><dt>example</dt><dd><p>The order by expression can also be a <code>raw</code> expression or a subquery
in addition to column references:</p>
<pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">orderBy</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">orderBy</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;concat(first_name, last_name)&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">order by</span><br/><span class="hl-1">  ( </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">limit</span><span class="hl-1"> </span><span class="hl-9">1</span><br/><span class="hl-1">  ) </span><span class="hl-4">asc</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">concat</span><span class="hl-1">(first_name, last_name) </span><span class="hl-4">asc</span>
</code></pre>
</dd><dt>example</dt><dd><p><code>dynamic.ref</code> can be used to refer to columns not known at
compile time:</p>
<pre><code class="language-ts"><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-8">someQuery</span><span class="hl-1">(</span><span class="hl-0">orderBy</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">ref</span><span class="hl-1"> } = </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-0">dynamic</span><br/><br/><span class="hl-1">  </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">    .</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;person.first_name as fn&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">orderBy</span><span class="hl-1">(</span><span class="hl-8">ref</span><span class="hl-1">(</span><span class="hl-0">orderBy</span><span class="hl-1">))</span><br/><span class="hl-1">    .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">someQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;fn&#39;</span><span class="hl-1">)</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-3">&quot;fn&quot;</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">order by</span><span class="hl-1"> </span><span class="hl-3">&quot;fn&quot;</span><span class="hl-1"> </span><span class="hl-4">asc</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>orderBy: <span class="tsd-signature-type">OrderByExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>direction: <a href="../modules.html#OrderByDirection" class="tsd-signature-type" data-tsd-kind="Type alias">OrderByDirection</a><span class="tsd-signature-symbol"> = &#39;asc&#39;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="returning" class="tsd-anchor"></a><h3>returning</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">returning&lt;S&gt;<span class="tsd-signature-symbol">(</span>selections<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithReturning</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">returning&lt;S&gt;<span class="tsd-signature-symbol">(</span>selection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithReturning</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Allows you to return data from modified rows.</p>
</div><div><p>On supported databases like postgres, this method can be chained to
<code>insert</code>, <code>update</code> and <code>delete</code> queries to return data.</p>
<p>Also see the <a href="QueryBuilder.html#returningAll">returningAll</a> method.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Return one column:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">id</span><span class="hl-1"> } = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">returning</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
</dd><dt>example</dt><dd><p>Return multiple columns:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">id</span><span class="hl-1">, </span><span class="hl-7">first_name</span><span class="hl-1"> } = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">returning</span><span class="hl-1">([</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;last_name&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
</dd><dt>example</dt><dd><p>Return arbitrary expressions:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">raw</span><span class="hl-1"> } = </span><span class="hl-0">db</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">id</span><span class="hl-1">, </span><span class="hl-7">full_name</span><span class="hl-1">, </span><span class="hl-7">first_pet_id</span><span class="hl-1"> } = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">returning</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-8">raw</span><span class="hl-1">&lt;</span><span class="hl-5">string</span><span class="hl-1">&gt;(</span><span class="hl-3">`concat(first_name, &#39; &#39;, last_name)`</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;full_name&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pets&#39;</span><span class="hl-1">).</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.id&#39;</span><span class="hl-1">).</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;first_pet_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selections: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithReturning</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selection: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithReturning</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="returningAll" class="tsd-anchor"></a><h3>returning<wbr/>All</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">returning<wbr/>All<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>returning *</code> to an insert/update/delete query on databases
that support <code>returning</code> such as postgres.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="rightJoin" class="tsd-anchor"></a><h3>right<wbr/>Join</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">right<wbr/>Join&lt;TE, K1, K2&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, k1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span>, k2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">right<wbr/>Join&lt;TE, FN&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#innerJoin">innerJoin</a> but adds a right join
instead of an inner join.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>K1<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li><li><h4>K2<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>k1: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K1</span></h5></li><li><h5>k2: <span class="tsd-signature-type" data-tsd-kind="Type parameter">K2</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TE<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li><h4>FN<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">JoinCallbackArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span></h5></li><li><h5>callback: <span class="tsd-signature-type" data-tsd-kind="Type parameter">FN</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithTable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TE</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="select" class="tsd-anchor"></a><h3>select</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">select&lt;S&gt;<span class="tsd-signature-symbol">(</span>selections<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithSelection</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">select&lt;S&gt;<span class="tsd-signature-symbol">(</span>selection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilderWithSelection</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a select clause to the query.</p>
</div><div><p>When a column (or any expression) is selected, Kysely also adds it to the return
type of the query. Kysely is smart enough to parse the field names and types even
from aliased columns, subqueries, raw expressions etc.</p>
<p>Kysely only allows you to select columns and expressions that exist and would
produce valid SQL. However, Kysely is not perfect and there may be cases where
the type inference doesn&#39;t work and you need to override it. You can always
use the <a href="Kysely.html#dynamic">dynamic</a> object and <a href="Kysely.html#raw">raw</a>
to override the types.</p>
<p>Select calls are additive. Calling <code>select(&#39;id&#39;).select(&#39;first_name&#39;)</code> is the
same as calling `select([&#39;id&#39;, &#39;first_name&#39;]).</p>
<p>To select all columns of the query or specific tables see the
<a href="QueryBuilder.html#selectAll">selectAll</a> method.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Select a single column:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">id</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>Select a single column and specify a table:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">([</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">id</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;pet&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>Select multiple columns:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">id</span><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">first_name</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>Giving an alias for a selection:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;person.first_name as fn&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;person.last_name as ln&#39;</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">fn</span><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">ln</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-3">&quot;fn&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-3">&quot;ln&quot;</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>You can also select subqueries and raw expressions. Note that you
always need to give a name for the selections using the <code>as</code>
method:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">      .</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;pet_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">&lt;</span><span class="hl-5">string</span><span class="hl-1">&gt;(</span><span class="hl-3">&quot;concat(first_name, &#39; &#39;, last_name)&quot;</span><span class="hl-1">).</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;full_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">pet_name</span><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">full_name</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><br/><span class="hl-1">  (</span><br/><span class="hl-1">    </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><br/><span class="hl-1">  ) </span><span class="hl-4">as</span><span class="hl-1"> pet_name,</span><br/><span class="hl-1">  </span><span class="hl-8">concat</span><span class="hl-1">(first_name, </span><span class="hl-3">&#39; &#39;</span><span class="hl-1">, last_name) </span><span class="hl-4">as</span><span class="hl-1"> full_name</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
<p>In case you use <code>raw</code> you need to specify the type of the expression
(in this example <code>string</code>).</p>
</dd><dt>example</dt><dd><p>All the examples above assume you know the column names at compile time.
While it&#39;s better to build your code like that (that way you also know
the types) sometimes it&#39;s not possible or you just prefer to write more
dynamic code.
<br><br>
In this example, we use the <code>dynamic</code> object&#39;s methods to add selections
dynamically:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">ref</span><span class="hl-1"> } = </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-0">dynamic</span><br/><br/><span class="hl-6">// Some column name provided by the user. Value not known at compile time.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">columnFromUserInput</span><span class="hl-1"> = </span><span class="hl-0">req</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">select</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// A type that lists all possible values `columnFromUserInput` can have.</span><br/><span class="hl-6">// You can use `keyof Person` if any column of an interface is allowed.</span><br/><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">PossibleColumns</span><span class="hl-1"> = </span><span class="hl-3">&#39;last_name&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;first_name&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;birth_date&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">person</span><span class="hl-1">] = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-8">ref</span><span class="hl-1">&lt;</span><span class="hl-5">PossibleColumns</span><span class="hl-1">&gt;(</span><span class="hl-0">columnFromUserInput</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;id&#39;</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span><br/><br/><span class="hl-6">// The resulting type contains all `PossibleColumns` as optional fields</span><br/><span class="hl-6">// because we cannot know which field was actually selected before</span><br/><span class="hl-6">// running the code.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">lastName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> | </span><span class="hl-5">undefined</span><span class="hl-1"> = </span><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">last_name</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">firstName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> | </span><span class="hl-5">undefined</span><span class="hl-1"> = </span><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">first_name</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">birthDate</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> | </span><span class="hl-5">undefined</span><span class="hl-1"> = </span><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">birth_date</span><br/><br/><span class="hl-6">// The result type also contains the compile time selection `id`.</span><br/><span class="hl-0">person</span><span class="hl-1">.</span><span class="hl-0">id</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selections: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithSelection</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>S<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol"> | </span><a href="AliasedRawBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">AliasedRawBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AnyAliasedQueryBuilder</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DynamicReferenceBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedRawBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AliasedQueryBuilderFactory</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>selection: <span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilderWithSelection</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">S</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a name="selectAll" class="tsd-anchor"></a><h3>select<wbr/>All</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">select<wbr/>All&lt;T&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">select<wbr/>All&lt;T&gt;<span class="tsd-signature-symbol">(</span>table<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">select<wbr/>All&lt;T&gt;<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>select *</code> or <code>select table.*</code> clause to the query.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.* </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><pre><code class="language-ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">([</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">([</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">execute</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.*, </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.* </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;pet&quot;</span>
</code></pre>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>table: <span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span></h4></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">SelectAllQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="set" class="tsd-anchor"></a><h3>set</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">set<span class="tsd-signature-symbol">(</span>row<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Sets the values to update for an <code>updateTable</code> query.</p>
</div><div><p>This method takes an object whose keys are column names and values are
values to update. In addition to the column&#39;s type, the values can be <code>raw</code>
instances or select queries.</p>
<p>The return value is the number of affected rows. You can use the
<a href="QueryBuilder.html#returning">returning</a> method on supported databases
to get out the updated rows.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Update a row in <code>person</code> table:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">numAffectedRows</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">updateTable</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">set</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">update</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">set</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">2</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = $</span><span class="hl-9">3</span>
</code></pre>
</dd><dt>example</dt><dd><p>On postgresql you need to chain <code>returning</code> to the query to get
the updated rows&#39; columns (or any other expression) as the
return value:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">row</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">updateTable</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">set</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">returning</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span><br/><br/><span class="hl-0">row</span><span class="hl-1">.</span><span class="hl-0">id</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">update</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">set</span><span class="hl-1"> </span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">2</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = $</span><span class="hl-9">3</span><span class="hl-1"> returning </span><span class="hl-3">&quot;id&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>In addition to primitives, the values can also be <code>raw</code> expressions or
select queries:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">numAffectedRows</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">updateTable</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">set</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;? || ?&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Ani&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;ston&#39;</span><span class="hl-1">]),</span><br/><span class="hl-1">    </span><span class="hl-0">age:</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">).</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;avg(age)&#39;</span><span class="hl-1">)),</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">update</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">set</span><br/><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">2</span><span class="hl-1"> || $</span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-3">&quot;age&quot;</span><span class="hl-1"> = (</span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-8">avg</span><span class="hl-1">(age) </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = $</span><span class="hl-9">4</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>row: <span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="skipLocked" class="tsd-anchor"></a><h3>skip<wbr/>Locked</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">skip<wbr/>Locked<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the <code>skip locked</code> option to a select query on supported databases.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="toOperationNode" class="tsd-anchor"></a><h3>to<wbr/>Operation<wbr/>Node</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">to<wbr/>Operation<wbr/>Node<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules.html#QueryNode" class="tsd-signature-type" data-tsd-kind="Type alias">QueryNode</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/OperationNodeSource.html">OperationNodeSource</a>.<a href="../interfaces/OperationNodeSource.html#toOperationNode">toOperationNode</a></p></aside><h4 class="tsd-returns-title">Returns <a href="../modules.html#QueryNode" class="tsd-signature-type" data-tsd-kind="Type alias">QueryNode</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="values" class="tsd-anchor"></a><h3>values</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">values<span class="tsd-signature-symbol">(</span>row<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">values<span class="tsd-signature-symbol">(</span>row<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Sets the values to insert for an <code>insertInto</code> query.</p>
</div><div><p>This method takes an object whose keys are column names and values are
values to insert. In addition to the column&#39;s type, the values can be <code>raw</code>
instances or select queries.</p>
<p>The return value is the primary key of the inserted row BUT on some databases
there is no return value by default. That&#39;s the reason for the <code>any</code> type of the
return value. On postgres you need to additionally call <code>returning</code> to get
something out of the query.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Insert a row into <code>person</code>:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">maybeId</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1">) </span><span class="hl-4">values</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>On dialects that support it (for example postgres) you can insert multiple
rows by providing an array. Note that the return value is once again very
dialect-specific. Some databases may only return the id of the <em>first</em> inserted
row and some return nothing at all unless you call <code>returning</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">maybeId</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">([{</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  }, {</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Arnold&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Schwarzenegger&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }])</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1">) </span><span class="hl-4">values</span><span class="hl-1"> (($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">), ($</span><span class="hl-9">3</span><span class="hl-1">, $</span><span class="hl-9">4</span><span class="hl-1">))</span>
</code></pre>
</dd><dt>example</dt><dd><p>On postgresql you need to chain <code>returning</code> to the query to get
the inserted row&#39;s columns (or any other expression) as the
return value:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">row</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Aniston&#39;</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">returning</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span><br/><br/><span class="hl-0">row</span><span class="hl-1">.</span><span class="hl-0">id</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1">) </span><span class="hl-4">values</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">) returning </span><span class="hl-3">&quot;id&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>In addition to primitives, the values can also be <code>raw</code> expressions or
select queries:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">maybeId</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">db</span><br/><span class="hl-1">  .</span><span class="hl-8">insertInto</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">values</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">first_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Jennifer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">last_name:</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;? || ?&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Ani&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;ston&#39;</span><span class="hl-1">]),</span><br/><span class="hl-1">    </span><span class="hl-0">age:</span><span class="hl-1"> </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">).</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;avg(age)&#39;</span><span class="hl-1">)),</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-8">executeTakeFirst</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">insert</span><span class="hl-1"> </span><span class="hl-4">into</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;last_name&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;age&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">values</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1"> || $</span><span class="hl-9">3</span><span class="hl-1">, (</span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-8">avg</span><span class="hl-1">(age) </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">))</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>row: <span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>row: <span class="tsd-signature-type">MutationObject</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="where" class="tsd-anchor"></a><h3>where</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">where<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">where<span class="tsd-signature-symbol">(</span>grouper<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>where</code> clause to the query.</p>
</div><div><p>Also see <a href="QueryBuilder.html#whereExists">whereExists</a>, <a href="QueryBuilder.html#whereRef">whereRef</a>
and <a href="QueryBuilder.html#whereRef">orWhere</a>.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Find a row by column value:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">100</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span>
</code></pre>
</dd><dt>example</dt><dd><p>Operator can be any supported operator or if the typings don&#39;t support it
you can always use <code>db.raw(&#39;your operator&#39;)</code>.</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;&gt;&#39;</span><span class="hl-1">, </span><span class="hl-9">100</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> &gt; $</span><span class="hl-9">1</span>
</code></pre>
</dd><dt>example</dt><dd><p>A <code>where in</code> query an be built by using the <code>in</code> operator and an array
of values. The values in the array can also be subqueries or raw
instances.</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;in&#39;</span><span class="hl-1">, [</span><span class="hl-9">100</span><span class="hl-1">, </span><span class="hl-9">200</span><span class="hl-1">, </span><span class="hl-9">300</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> </span><span class="hl-4">in</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">, $</span><span class="hl-9">3</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>Both the first and third argument can also be subqueries.
A subquery is defined by passing a function and calling
the <code>subQuery</code> method of the object passed into the
function:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><br/><span class="hl-1">    (</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><span class="hl-1">.</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;in&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    [</span><span class="hl-9">100</span><span class="hl-1">, </span><span class="hl-9">200</span><span class="hl-1">, </span><span class="hl-9">300</span><span class="hl-1">]</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-1">) </span><span class="hl-4">in</span><span class="hl-1"> ($</span><span class="hl-9">1</span><span class="hl-1">, $</span><span class="hl-9">2</span><span class="hl-1">, $</span><span class="hl-9">3</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>If everything else fails, you can always pass <a href="Kysely.html#raw">raw</a>
as any of the arguments, including the operator:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;coalesce(first_name, last_name)&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;like&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;%&#39;</span><span class="hl-1"> + </span><span class="hl-0">name</span><span class="hl-1"> + </span><span class="hl-3">&#39;%&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> *</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-8">coalesce</span><span class="hl-1">(first_name, last_name) </span><span class="hl-4">like</span><span class="hl-1"> $</span><span class="hl-9">1</span>
</code></pre>
</dd><dt>example</dt><dd><p>If you only pass one function argument to this method, it can be
used to create parentheses around other where clauses:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">    .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-3">&#39;id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1"> (</span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-4">or</span><span class="hl-1"> </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>In all examples above the columns were known at compile time
(except for the <code>raw</code> expressions). By default kysely only allows
you to refer to columns that exist in the database <strong>and</strong> can be
referred to in the current query and context.</p>
<p>Sometimes you may want to refer to columns that come from the user
input and thus are not available at compile time.</p>
<p>You have two options, <code>db.raw</code> or <code>db.dynamic</code>. The example below
uses both:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">ref</span><span class="hl-1"> } = </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-0">dynamic</span><br/><br/><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-8">ref</span><span class="hl-1">(</span><span class="hl-0">columnFromUserInput</span><span class="hl-1">), </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">orWhere</span><span class="hl-1">(</span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><span class="hl-3">&#39;??&#39;</span><span class="hl-1">, [</span><span class="hl-0">columnFromUserInput</span><span class="hl-1">]), </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">)</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ValueExpressionOrList</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>grouper: <span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>qb<span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>qb: <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="whereExists" class="tsd-anchor"></a><h3>where<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">where<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>where exists</code> clause to the query.</p>
</div><div><p>You can either use a subquery or a raw instance.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>The query below selets all persons that own a pet named Catto:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">whereExists</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">    .</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Catto&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-4">exists</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">and</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1"> = $</span><span class="hl-9">1</span><br/><span class="hl-1">)</span>
</code></pre>
</dd><dt>example</dt><dd><p>The same query as in the previous example but with using raw:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">whereExists</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">raw</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">&#39;(select pet.id from pet where person.id = pet.owner_id and pet.name = ?)&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-3">&#39;Catto&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><br/><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-4">exists</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">select</span><span class="hl-1"> pet.id</span><br/><span class="hl-1">  </span><span class="hl-4">from</span><span class="hl-1"> pet</span><br/><span class="hl-1">  </span><span class="hl-4">where</span><span class="hl-1"> person.id = pet.owner_id</span><br/><span class="hl-1">  </span><span class="hl-4">and</span><span class="hl-1"> pet.name = $</span><span class="hl-9">1</span><br/><span class="hl-1">)</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="whereNotExists" class="tsd-anchor"></a><h3>where<wbr/>Not<wbr/>Exists</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">where<wbr/>Not<wbr/>Exists<span class="tsd-signature-symbol">(</span>arg<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Just like <a href="QueryBuilder.html#whereExists">whereExists</a> but creates a <code>not exists</code> clause.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>arg: <span class="tsd-signature-type">ExistsFilterArg</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="whereRef" class="tsd-anchor"></a><h3>where<wbr/>Ref</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">where<wbr/>Ref<span class="tsd-signature-symbol">(</span>lhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span>, op<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FilterOperatorArg</span>, rhs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds a <code>where</code> clause where both sides of the operator are references
to columns.</p>
</div><div><p>The normal <code>where</code> method treats the right hand side argument as a
value by default. <code>whereRef</code> treats it as a column reference. This method is
expecially useful with joins and correclated subqueries.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p>Usage with a join:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">([</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;person.first_name&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;pet.name&#39;</span><span class="hl-1">)</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> * </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1"> </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;first_name&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;name&quot;</span>
</code></pre>
</dd><dt>example</dt><dd><p>Usage in a subquery:</p>
<pre><code class="language-ts"><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-8">selectFrom</span><span class="hl-1">(</span><span class="hl-3">&#39;person</span><span class="hl-10">)</span><br/><span class="hl-1">  .</span><span class="hl-8">selectAll</span><span class="hl-1">(</span><span class="hl-3">&#39;person&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-8">select</span><span class="hl-1">((</span><span class="hl-0">qb</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">qb</span><br/><span class="hl-1">    .</span><span class="hl-8">subQuery</span><span class="hl-1">(</span><span class="hl-3">&#39;pet&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">whereRef</span><span class="hl-1">(</span><span class="hl-3">&#39;pet.owner_id&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;person.id&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">limit</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-8">as</span><span class="hl-1">(</span><span class="hl-3">&#39;pet_name&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span>
</code></pre>
<p>The generated SQL (postgresql):</p>
<pre><code class="language-sql"><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.*, (</span><br/><span class="hl-1">  </span><span class="hl-4">select</span><span class="hl-1"> </span><span class="hl-3">&quot;name&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><br/><span class="hl-1">  </span><span class="hl-4">where</span><span class="hl-1"> </span><span class="hl-3">&quot;pet&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;owner_id&quot;</span><span class="hl-1"> = </span><span class="hl-3">&quot;person&quot;</span><span class="hl-1">.</span><span class="hl-3">&quot;id&quot;</span><br/><span class="hl-1">) </span><span class="hl-4">as</span><span class="hl-1"> pet_name</span><br/><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-3">&quot;person&quot;`</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>op: <span class="tsd-signature-type">FilterOperatorArg</span></h5></li><li><h5>rhs: <span class="tsd-signature-type">ReferenceExpression</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="QueryBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">QueryBuilder</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TB</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">O</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html" class="tsd-kind-icon">Query<wbr/>Builder</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#as" class="tsd-kind-icon">as</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#castTo" class="tsd-kind-icon">cast<wbr/>To</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#compile" class="tsd-kind-icon">compile</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#distinct" class="tsd-kind-icon">distinct</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#distinctOn" class="tsd-kind-icon">distinct<wbr/>On</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#execute" class="tsd-kind-icon">execute</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#executeTakeFirst" class="tsd-kind-icon">execute<wbr/>Take<wbr/>First</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forKeyShare" class="tsd-kind-icon">for<wbr/>Key<wbr/>Share</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forNoKeyUpdate" class="tsd-kind-icon">for<wbr/>No<wbr/>Key<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forShare" class="tsd-kind-icon">for<wbr/>Share</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#forUpdate" class="tsd-kind-icon">for<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#fullJoin" class="tsd-kind-icon">full<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#groupBy" class="tsd-kind-icon">group<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#having" class="tsd-kind-icon">having</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingExists" class="tsd-kind-icon">having<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingNotExist" class="tsd-kind-icon">having<wbr/>Not<wbr/>Exist</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#havingRef" class="tsd-kind-icon">having<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#innerJoin" class="tsd-kind-icon">inner<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#leftJoin" class="tsd-kind-icon">left<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#limit" class="tsd-kind-icon">limit</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#noWait" class="tsd-kind-icon">no<wbr/>Wait</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#offset" class="tsd-kind-icon">offset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#onConflictDoNothing" class="tsd-kind-icon">on<wbr/>Conflict<wbr/>Do<wbr/>Nothing</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#onConflictUpdate" class="tsd-kind-icon">on<wbr/>Conflict<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHaving" class="tsd-kind-icon">or<wbr/>Having</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingExists" class="tsd-kind-icon">or<wbr/>Having<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingNotExists" class="tsd-kind-icon">or<wbr/>Having<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orHavingRef" class="tsd-kind-icon">or<wbr/>Having<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhere" class="tsd-kind-icon">or<wbr/>Where</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereExists" class="tsd-kind-icon">or<wbr/>Where<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereNotExists" class="tsd-kind-icon">or<wbr/>Where<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orWhereRef" class="tsd-kind-icon">or<wbr/>Where<wbr/>Ref</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#orderBy" class="tsd-kind-icon">order<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#returning" class="tsd-kind-icon">returning</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#returningAll" class="tsd-kind-icon">returning<wbr/>All</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#rightJoin" class="tsd-kind-icon">right<wbr/>Join</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#select" class="tsd-kind-icon">select</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="QueryBuilder.html#selectAll" class="tsd-kind-icon">select<wbr/>All</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#set" class="tsd-kind-icon">set</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#skipLocked" class="tsd-kind-icon">skip<wbr/>Locked</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#toOperationNode" class="tsd-kind-icon">to<wbr/>Operation<wbr/>Node</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#values" class="tsd-kind-icon">values</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#where" class="tsd-kind-icon">where</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereExists" class="tsd-kind-icon">where<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereNotExists" class="tsd-kind-icon">where<wbr/>Not<wbr/>Exists</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueryBuilder.html#whereRef" class="tsd-kind-icon">where<wbr/>Ref</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>